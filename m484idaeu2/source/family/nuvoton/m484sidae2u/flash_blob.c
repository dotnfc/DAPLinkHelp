/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2019 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

static const uint32_t M481_AP_512_flash_prog_blob[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x43422231, 0xbf004611, 0x1e4abf00, 0xd1fb1e11, 0xb5014770, 0x9802b082, 0xbf009000, 0x1e419800,
    0x90019100, 0x28009801, 0xbd0ed1f8, 0x4604b570, 0x4616460d, 0x49f72059, 0x20166008, 0x20886008,
    0x46086008, 0x07c06800, 0x28000fc0, 0x2001d101, 0x48f1bd70, 0x21046800, 0x49ef4308, 0x46086008,
    0x21046840, 0x49ec4308, 0x20806048, 0xffd1f7ff, 0x49e948ea, 0x60083140, 0x48e7bf00, 0x69003040,
    0x40082104, 0xd0f82800, 0x690048e3, 0x00c008c0, 0x49e11c80, 0x20036108, 0xf7ff0200, 0x48e0ffba,
    0x21216800, 0x49de4308, 0x46086008, 0x210169c0, 0x49db4308, 0x460861c8, 0x07c06800, 0x28000fc0,
    0x2001d101, 0x48d6e7c4, 0x21406800, 0x49d44308, 0x20006008, 0x4601e7bc, 0x48d1bf00, 0x07c06900,
    0x28000fc0, 0x48ced1f9, 0x22216800, 0x4acc4390, 0x46106010, 0x084069c0, 0x61d00040, 0x690048c6,
    0x43102207, 0x61104ac4, 0x47702000, 0x47702001, 0xbf004602, 0x30c048c2, 0x07c06800, 0x28000fc0,
    0x48bfd1f8, 0x23406800, 0x4bbd4318, 0x20226018, 0x461860d8, 0x29006042, 0x48bad002, 0xe0036098,
    0x43c02000, 0x60984bb6, 0x4bb52001, 0xf3bf6118, 0xbf008f60, 0x30c048b2, 0x07c06800, 0x28000fc0,
    0x48afd1f8, 0x23406800, 0x28004018, 0x4770d100, 0x680048ab, 0x43182340, 0x60184ba9, 0xe7f62001,
    0xb082b5f7, 0xbf004611, 0x690048a5, 0x0fc007c0, 0xd1f92800, 0x680048a2, 0x43382740, 0x60384fa0,
    0x09009802, 0x60780100, 0x60f82027, 0x37804f9c, 0x60386810, 0x60786850, 0x60b86890, 0x68c82304,
    0x200160f8, 0x61384f96, 0x300f9803, 0x01000900, 0x3d104605, 0xbf00e026, 0x30c04891, 0x27306800,
    0x28004038, 0x0098d1f8, 0x4f8d5808, 0x60383780, 0x1c9c1c5e, 0x580800b0, 0xbf006078, 0x30c04888,
    0x27c06800, 0x28004038, 0x00a0d1f8, 0x4f845808, 0x60b83780, 0x90011c60, 0x98011ca3, 0x58080080,
    0x3d1060f8, 0xd1d62d00, 0x487dbf00, 0x07c06900, 0x90000fc0, 0x6900487a, 0x0fc007c0, 0xd1f42800,
    0xb0059800, 0xb570bdf0, 0x461d4603, 0x08841cc8, 0xbf0000a4, 0x69004872, 0x0fc007c0, 0xd1f92800,
    0x6800486f, 0x43302640, 0x60304e6d, 0x60f02021, 0x08a8e020, 0x4e6a0080, 0x68106070, 0x200160b0,
    0xf3bf6130, 0xbf008f60, 0x69004865, 0x0fc007c0, 0xd1f92800, 0x68004862, 0x40302640, 0xd0062800,
    0x6800485f, 0x4e5e4330, 0x20016030, 0x1d2dbd70, 0x1f241d12, 0xd1dc2c00, 0xe7f72000, 0x4604b510,
    0x0500200f, 0x21014020, 0x42880549, 0x2100d004, 0xf7ff4620, 0xbd10ff1d, 0x28007928, 0x2101d006,
    0x1a600549, 0xf7ff2101, 0xe7f4ff13, 0x46202101, 0xff0ef7ff, 0xb5f7e7ef, 0x9d02b082, 0x26009f04,
    0x4847bf00, 0x07c06900, 0x28000fc0, 0x4844d1f9, 0x21406800, 0x49424308, 0x98036008, 0x08841cc0,
    0xe03500a4, 0x0dc005e8, 0xd1032800, 0x02402001, 0xd2184284, 0x0dc005e8, 0xd1012800, 0xd2072c10,
    0x19ba9401, 0x46284621, 0xff7df7ff, 0xe0139000, 0x01000920, 0x19ba9001, 0x01090921, 0xf7ff4628,
    0x9000ff0f, 0x2001e008, 0x90010240, 0x460119ba, 0xf7ff4628, 0x9000ff05, 0x182d9801, 0x18369801,
    0x1a249801, 0x28009800, 0x2001d002, 0xbdf0b005, 0xd1c72c00, 0xe7f92000, 0x1cccb530, 0x009b08a3,
    0x4c1fbf00, 0x07e46924, 0x2c000fe4, 0x4c1cd1f9, 0x25406824, 0x4d1a432c, 0x2400602c, 0xe02560ec,
    0x00a40884, 0x606c4d16, 0x60ac2400, 0x612c2401, 0x8f60f3bf, 0x4c12bf00, 0x07e46924, 0x2c000fe4,
    0x4c0fd1f9, 0x25406824, 0x2c00402c, 0x4c0cd005, 0x432c6824, 0x602c4d0a, 0x4c09bd30, 0x681568a4,
    0xd00042ac, 0x1d00e7f8, 0x1f1b1d12, 0xd1d72b00, 0xe7f1bf00, 0x40000100, 0x40000200, 0x0008421e,
    0x4000c000, 0x0055aa03, 0x00000000
};

/**
* List of start and size for each size of flash sector - even indexes are start, odd are size
* The size will apply to all sectors between the listed address and the next address
* in the list.
* The last pair in the list will have sectors starting at that address and ending
* at address flash_start + flash_size.
*/
static const sector_info_t sectors_info[] = {
    0x00000000, 0x00001000,
};

static const program_target_t flash = {
    0x2000004d, // Init
    0x200000f7, // UnInit
    0, // 0x2000012d, EraseChip
    0x200002dd, // EraseSector
    0x20000317, // ProgramPage
    0, // 0x200003b9, Verify

    // BKPT : start of blob + 1
    // RSB  : blob start + header + rw data offset
    // RSP  : stack pointer
    {
        0x20000001,
        0x2000056c,
        0x20000800
    },

    0x20000000 + 0x00000A00,  // mem buffer location
    0x20000000,               // location to write prog_blob in target RAM
    sizeof(M481_AP_512_flash_prog_blob),   // prog_blob size
    M481_AP_512_flash_prog_blob,           // address of prog_blob
    0x00001000       // ram_to_flash_bytes_to_be_written
};
